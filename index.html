<!DOCTYPE html>
<html lang="fr" class="h-full">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DOUKÈ Compta Pro - Gestion Comptable SYSCOHADA Révisé</title>

<!-- Styles CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="css/custom.css">

<!-- Libraries externes -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>

<!-- Configuration Tailwind -->
<script>
tailwind.config = {
theme: {
extend: {
colors: {
primary: '#5D5CDE',
'primary-light': '#3B82F6',
'primary-dark': '#1E40AF',
secondary: '#1D4ED8',
success: '#059669',
warning: '#D97706',
danger: '#DC2626',
info: '#0284C7'
}
}
}
}
</script>

<!-- Scripts de l'application -->
<script src="js/data.js"></script>
<script src="js/utils.js"></script>
<script src="js/auth.js"></script>
<script src="js/navigation.js"></script>
<script src="js/dashboard.js"></script>
<script src="js/entries.js"></script>
<script src="js/accounts.js"></script>
<script src="js/caisse.js"></script>
<script src="js/reports.js"></script>
<script src="js/import.js"></script>
<script src="js/settings.js"></script>
<script src="js/companies.js"></script>
<script src="js/users.js"></script>
<script src="js/charts.js"></script>
<script src="js/app.js"></script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 transition-colors duration-300">

<!-- Interface de Connexion -->
<div id="loginInterface" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-primary to-primary-light">
<div class="max-w-md w-full mx-4">
<div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8">
<!-- Logo et titre -->
<div class="text-center mb-8">
<div class="w-20 h-20 bg-primary text-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg company-logo">
<i class="fas fa-calculator text-3xl"></i>
</div>
<h1 class="text-3xl font-bold text-gray-900 dark:text-white">DOUKÈ Compta Pro</h1>
<p class="text-gray-600 dark:text-gray-400 mt-2">Gestion Comptable SYSCOHADA Révisé</p>
</div>

<!-- Formulaire de connexion -->
<form id="loginForm" class="space-y-6">
<div>
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
<i class="fas fa-envelope mr-2"></i>Email
</label>
<input type="email" id="loginEmail" required
class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base focus:ring-2 focus:ring-primary focus:border-transparent transition-colors"
placeholder="votre@email.com">
</div>

<div>
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
<i class="fas fa-lock mr-2"></i>Mot de passe
</label>
<input type="password" id="loginPassword" required
class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base focus:ring-2 focus:ring-primary focus:border-transparent transition-colors"
placeholder="Votre mot de passe">
</div>

<div class="flex items-center justify-between">
<label class="flex items-center">
<input type="checkbox" class="w-4 h-4 text-primary bg-gray-100 border-gray-300 rounded focus:ring-primary">
<span class="ml-2 text-sm text-gray-600 dark:text-gray-400">Se souvenir de moi</span>
</label>
<a href="#" onclick="showForgotPassword()" class="text-sm text-primary hover:text-primary/80 transition-colors">Mot de passe oublié ?</a>
</div>

<button type="submit" class="w-full bg-primary hover:bg-primary/90 text-white py-3 rounded-lg font-medium transition-colors transform hover:scale-105">
<i class="fas fa-sign-in-alt mr-2"></i>Se connecter
</button>
</form>

<!-- Comptes de démonstration -->
<div class="mt-8 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
<h3 class="text-sm font-medium text-gray-900 dark:text-white mb-3">Comptes de démonstration :</h3>
<div class="space-y-2 text-xs">
<button onclick="loginAs('admin')" class="w-full text-left p-2 hover:bg-white dark:hover:bg-gray-600 rounded transition-colors">
<strong>Administrateur :</strong> admin@doukecompta.ci / admin123
</button>
<button onclick="loginAs('collaborateur-senior')" class="w-full text-left p-2 hover:bg-white dark:hover:bg-gray-600 rounded transition-colors">
<strong>Collaborateur Senior :</strong> marie.kouassi@cabinet.com / collab123
</button>
<button onclick="loginAs('collaborateur')" class="w-full text-left p-2 hover:bg-white dark:hover:bg-gray-600 rounded transition-colors">
<strong>Collaborateur :</strong> jean.diabate@cabinet.com / collab123
</button>
<button onclick="loginAs('user')" class="w-full text-left p-2 hover:bg-white dark:hover:bg-gray-600 rounded transition-colors">
<strong>Utilisateur :</strong> atraore@sarltech.ci / user123
</button>
<button onclick="loginAs('caissier')" class="w-full text-left p-2 hover:bg-white dark:hover:bg-gray-600 rounded transition-colors">
<strong>Caissier :</strong> ikone@caisse.ci / caisse123
</button>
</div>
</div>

<div class="mt-6 text-center">
<p class="text-sm text-gray-600 dark:text-gray-400">
Pas encore de compte ?
<button onclick="showRegisterForm()" class="text-primary hover:text-primary/80 font-medium transition-colors">S'inscrire</button>
</p>
</div>
</div>
</div>
</div>

<!-- Interface principale de l'application -->
<div id="mainApp" class="hidden h-screen overflow-hidden">
<div class="flex h-screen overflow-hidden">
<!-- Sidebar -->
<div id="sidebar" class="w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 -translate-x-full fixed lg:static z-30 h-full">
<div class="flex flex-col h-full">
<!-- Header -->
<div class="flex items-center justify-center h-16 border-b border-gray-200 dark:border-gray-700 bg-primary">
<div class="flex items-center space-x-3">
<div class="w-8 h-8 bg-white text-primary rounded-lg flex items-center justify-center font-bold company-logo" id="appLogo">
<i class="fas fa-calculator"></i>
</div>
<span class="text-white font-bold text-lg">DOUKÈ Compta Pro</span>
</div>
</div>

<!-- Profil utilisateur connecté -->
<div class="p-4 bg-primary/10">
<div class="flex items-center space-x-3">
<div class="w-10 h-10 bg-primary text-white rounded-full flex items-center justify-center">
<i class="fas fa-user"></i>
</div>
<div>
<div class="font-medium text-gray-900 dark:text-white" id="sidebarUserName"></div>
<div class="text-sm text-primary font-medium" id="sidebarUserRole"></div>
</div>
</div>
</div>

<!-- Sélecteur d'entreprise -->
<div id="companySelector" class="p-4 border-b border-gray-200 dark:border-gray-700" style="display: none;">
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
<i class="fas fa-building mr-2"></i>Entreprise Active
</label>
<select id="activeCompanySelect" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base">
<option value="">-- Sélectionner une entreprise --</option>
</select>
<div class="mt-2">
<span id="selectedCompanyInfo" class="text-xs text-primary-light font-medium"></span>
</div>
</div>

<!-- Navigation Menu -->
<nav id="navigationMenu" class="flex-1 overflow-y-auto py-4">
<!-- Menu items will be populated by JavaScript -->
</nav>

<!-- Admin Data Management -->
<div id="adminActions" class="p-4 border-t border-gray-200 dark:border-gray-700" style="display: none;">
<button onclick="showAdminDataMenu()" class="w-full text-left text-sm text-gray-600 dark:text-gray-400 hover:text-primary transition-colors">
<i class="fas fa-cog mr-2"></i>Gestion des données
</button>
</div>
</div>
</div>

<!-- Main Content -->
<div class="flex-1 flex flex-col overflow-hidden">
<!-- Header -->
<header class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700">
<div class="flex items-center justify-between px-6 py-4">
<div class="flex items-center space-x-4">
<button id="sidebarToggle" class="lg:hidden text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
<i class="fas fa-bars text-xl"></i>
</button>
<div>
<h1 class="text-xl font-semibold text-gray-900 dark:text-white" id="currentUser"></h1>
<p class="text-sm text-gray-600 dark:text-gray-400" id="currentCompany"></p>
</div>
</div>

<div class="flex items-center space-x-4">
<!-- Theme Switcher -->
<div class="relative">
<button onclick="toggleThemeMenu()" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300" title="Changer de thème">
<i class="fas fa-palette text-xl"></i>
</button>
<div id="themeMenu" class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50">
<div class="py-2">
<button onclick="setTheme('light')" class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
<i class="fas fa-sun mr-2"></i>Thème clair
</button>
<button onclick="setTheme('dark')" class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
<i class="fas fa-moon mr-2"></i>Thème sombre
</button>
<button onclick="setTheme('system')" class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
<i class="fas fa-desktop mr-2"></i>Système
</button>
</div>
</div>
</div>
<!-- Notifications -->
<div class="relative">
<button onclick="toggleNotificationsPanel()" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 relative" title="Notifications">
<i class="fas fa-bell text-xl"></i>
<span id="notificationBadge" class="absolute -top-1 -right-1 bg-danger text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden">3</span>
</button>
<div id="notificationsPanel" class="hidden absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 max-h-96 overflow-y-auto">
<div class="p-4 border-b border-gray-200 dark:border-gray-700">
<h3 class="font-semibold text-gray-900 dark:text-white">Notifications</h3>
</div>
<div id="notificationsList" class="p-2">
<!-- Notifications will be populated here -->
</div>
<div class="p-3 border-t border-gray-200 dark:border-gray-700">
<button onclick="showNotificationSettings()" class="text-primary text-sm hover:text-primary/80">
<i class="fas fa-cog mr-1"></i>Paramètres notifications
</button>
</div>
</div>
</div>
<button onclick="confirmLogout()" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300" title="Se déconnecter">
<i class="fas fa-sign-out-alt text-xl"></i>
</button>
</div>
</div>
</header>

<!-- Main Content Area -->
<main class="flex-1 overflow-y-auto p-6">
<div id="mainContent">
<!-- Content will be populated by JavaScript -->
</div>
</main>
</div>
</div>
</div>

<!-- Modal Container -->
<div id="modalContainer"></div>

</body>
</html>
